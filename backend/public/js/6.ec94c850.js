(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"1a3e":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-md center bg-grey-9 text-white"},[o("ProfileComponent")],1)},s=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",[o("div",{staticClass:"text-h4 text-center"},[t._v("All data on you")]),o("q-btn",{staticClass:"float-right",attrs:{label:"Delete account",color:"red"},on:{click:function(e){return t.deleteProfile()}}}),o("q-btn-dropdown",{staticClass:"glossy q-ma-sm",attrs:{color:"green",icon:"edit",label:"Edit List"}},[o("div",{staticClass:"row no-wrap q-pa-md"},[o("q-input",{attrs:{label:"new username *",autofocus:""},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}),o("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:""}}),o("div",{staticClass:"column items-center"},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"secondary",label:"Update user",push:"",size:"md"},on:{click:function(e){return t.editUsername(t.newName)}}})],1)],1)]),t.allowedCookies?o("p",{staticClass:"text-body1"},[t._v(" You have allowed cookies on this site")]):t._e(),o("div",{staticClass:"row"},[o("ProfileAllTodos"),o("ProfileAllLists")],1),o("ProfileArchive")],1)},n=[],i=(o("e6cf"),o("c973")),l=o.n(i),c=o("ded3"),d=o.n(c),u=o("2f62"),h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[o("div",{staticClass:"text-h4 col-12 text-center"},[t._v("Your completed todos")]),t._l(t.finishedTodos,(function(e,a){return o("div",{key:a},[o("q-card",{staticClass:"my-card",attrs:{flat:"",bordered:""}},[o("q-card-section",{attrs:{horizontal:""}},[o("q-card-section",{staticClass:"q-pt-xs"},[o("div",{staticClass:"text-body1 text-black"},[t._v("\n           Todo title: "+t._s(e.title)+"\n           ")]),o("div",{staticClass:"text-body1 text-black"},[t._v("\n           Todo user: "+t._s(e.userid)+"\n           ")])])],1),o("q-separator"),o("q-card-actions",[o("q-btn",{attrs:{flat:"",color:"primary"}},[t._v("\n           Finished: "+t._s(e.updatedAt)+"\n         ")])],1)],1)],1)}))],2)},p=[],m={name:"ProfileArchive",data(){return{finishedTodos:[],lorem:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",token:"",test:""}},mounted(){this.token=localStorage.getItem("token"),this.fetchFinished()},computed:d()({},Object(u["b"])(["auth"])),components:{ProfileComponent:W},methods:{fetchFinished(){var t=this;return l()((function*(){yield fetch("http://localhost:8081/api/todo/?finished=true",{headers:{Authorization:"Bearer "+t.token,"Content-Type":"application/json"}}).then(t=>t.json()).then(e=>{t.finishedTodos=e}).catch(t=>{console.error("There was a error fetching:"+t)})}))()}}},f=m,v=o("2877"),b=o("f09f"),g=o("a370"),C=o("eb85"),k=o("4b7e"),_=o("9c40"),w=o("eebe"),q=o.n(w),T=Object(v["a"])(f,h,p,!1,null,null,null),y=T.exports;q()(T,"components",{QCard:b["a"],QCardSection:g["a"],QSeparator:C["a"],QCardActions:k["a"],QBtn:_["a"]});var x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-6 col-md-6"},[o("q-item-section",{staticClass:"text-h5"},[t._v("All todos on you")]),o("div",{staticClass:"text-h6"},[t._v("Todo Titel & Todo Status")]),t._l(t.allTodos,(function(e,a){return o("q-list",{key:a,staticClass:"q-pa-md bg-grey-2 text-black ",staticStyle:{"max-width":"350px"},attrs:{bordered:"",separator:""}},[o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[o("q-item-section",[t._v(t._s(e.title))]),o("q-item-section",[t._v(t._s(e.done))])],1)],1)}))],2)},A=[],S={name:"ProfileAllTodos",data(){return{allTodos:[]}},mounted(){this.token=localStorage.getItem("token"),this.fetchAllTodos()},computed:d()({},Object(u["b"])(["auth"])),methods:{fetchAllTodos(){var t=this;return l()((function*(){fetch("http://localhost:8081/api/users/gdpr/"+t.auth.userid,{headers:{Authorization:"Bearer "+t.token,"Content-Type":"application/json"}}).then(t=>t.json()).then(e=>{t.allTodos=e.todos}).catch(t=>{console.error("There was a error fetching:"+t)})}))()}}},P=S,j=o("4074"),Q=o("1c1c"),L=o("66e5"),I=o("714f"),O=Object(v["a"])(P,x,A,!1,null,null,null),E=O.exports;q()(O,"components",{QItemSection:j["a"],QList:Q["a"],QItem:L["a"]}),q()(O,"directives",{Ripple:I["a"]});var B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-6 col-md-6"},[o("div",{staticClass:"text-h6"},[t._v("List Titel & List Skapare")]),t._l(t.allLists,(function(e,a){return o("q-list",{key:a,staticClass:"q-pa-md bg-grey-2 text-black ",staticStyle:{"max-width":"350px"},attrs:{bordered:"",separator:""}},[o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[o("q-item-section",[t._v(t._s(e.title))]),o("q-item-section",[t._v(t._s(e.creator))])],1)],1)}))],2)},N=[],z={name:"ProfileAllLists",data(){return{allLists:[]}},mounted(){this.token=localStorage.getItem("token"),this.fetchAllTodos()},computed:d()({},Object(u["b"])(["auth"])),methods:{fetchAllTodos(){var t=this;return l()((function*(){fetch("http://localhost:8081/api/users/gdpr/"+t.auth.userid,{headers:{Authorization:"Bearer "+t.token,"Content-Type":"application/json"}}).then(t=>t.json()).then(e=>{t.allLists=e.lists}).catch(t=>{console.error("There was a error fetching:"+t)})}))()}}},U=z,$=Object(v["a"])(U,B,N,!1,null,null,null),D=$.exports;q()($,"components",{QList:Q["a"],QItem:L["a"],QItemSection:j["a"]}),q()($,"directives",{Ripple:I["a"]});class F{static editUser(t,e,o){return l()((function*(){return console.log(t),console.log(o),console.log("making full users request for id "+e),yield fetch("api/users/"+e,{method:"PATCH",headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"},body:JSON.stringify({username:t})})}))()}}var J=F,R={name:"TodoArchive",props:{theuser:String},data(){return{token:"",name:"",allowedCookies:!1,newUsername:""}},mounted(){this.token=localStorage.getItem("token"),this.allowedCookies=localStorage.getItem("allowCokokie")},computed:d()({},Object(u["b"])(["auth"])),components:{ProfileArchive:y,ProfileAllTodos:E,ProfileAllLists:D},methods:{deleteProfile(){var t=this;return l()((function*(){const e=yield fetch("/api/users/"+t.auth.userid,{method:"DELETE",headers:{Authorization:"Bearer "+t.token,"Content-Type":"application/json"}});console.log(e),localStorage.removeItem("token"),localStorage.removeItem("showUsers"),localStorage.removeItem("role"),t.$router.go("/")}))()},editUsername(t){var e=this;return l()((function*(){const o=yield J.editUser(t,e.auth.userid,e.token);console.log(o)}))()}}},Y=R,H=(o("3df0"),o("9989")),G=o("f20b"),K=o("27f9"),M=o("7f67"),V=Object(v["a"])(Y,r,n,!1,null,"268e33c4",null),W=V.exports;q()(V,"components",{QPage:H["a"],QBtn:_["a"],QBtnDropdown:G["a"],QInput:K["a"],QSeparator:C["a"]}),q()(V,"directives",{ClosePopup:M["a"]});var X={name:"LoginPage",data(){return{}},components:{ProfileComponent:W}},Z=X,tt=Object(v["a"])(Z,a,s,!1,null,null,null);e["default"]=tt.exports},"3df0":function(t,e,o){"use strict";var a=o("72a6"),s=o.n(a);s.a},"72a6":function(t,e,o){}}]);