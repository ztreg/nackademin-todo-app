(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{3080:function(t,e,o){},"5d2d":function(t,e,o){"use strict";var i=o("3080"),s=o.n(i);s.a},"6b34":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-btn",{staticClass:"float-right",attrs:{label:"Logout",color:"red"},on:{click:function(e){return t.logOut()}}})},s=[],a={name:"LogoutComponent",data(){return{}},methods:{logOut(){localStorage.removeItem("token"),localStorage.removeItem("showUsers"),localStorage.removeItem("role"),this.$router.go("/")}}},n=a,l=o("2877"),r=o("9c40"),c=o("eebe"),d=o.n(c),u=Object(l["a"])(n,i,s,!1,null,null,null);e["a"]=u.exports;d()(u,"components",{QBtn:r["a"]})},f551:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-md center bg-grey-9 text-white"},[o("TodoListComp")],1)},s=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bg-grey-10 "},[o("LogoutComponent"),o("q-form",{staticClass:"row",on:{submit:function(e){return t.addTodoList(t.todoListTitle)}}},[o("q-input",{staticClass:"col-5 bg-white text-h5",attrs:{filled:"",label:"New List of todos *"},model:{value:t.todoListTitle,callback:function(e){t.todoListTitle=e},expression:"todoListTitle"}}),o("q-btn",{attrs:{label:"Add TodoList",type:"submit",color:"green"},model:{value:t.todoListTitle,callback:function(e){t.todoListTitle=e},expression:"todoListTitle"}})],1),o("div",{staticClass:"window-height row justify-center items-center"},[t.nolist?o("q-banner",{staticClass:"bg-grey-9 text-white q-pa-lg"},[o("div",{staticClass:"text-h4"},[t._v("You don't have a list, to start. Create one!")])]):t._e(),t._l(this.allLists,(function(e,i){return o("q-card",{key:i,staticClass:"my-card bg-grey-9 text-white q-ma-lg"},[o("q-card-section",{staticClass:"bg-grey-8"},[o("div",{staticClass:"text-h6"},[t._v("Title: "+t._s(e.title))]),o("div",{staticClass:"text-subtitle2"},[t._v("Creator: "+t._s(e.creator))])]),o("q-card-section",{staticClass:"bg-grey-6",attrs:{clickable:""}},[o("q-btn",{attrs:{flat:"",to:/todolist/+e._id}},[t._v(" click list to view todolist")])],1),o("q-separator",{attrs:{dark:""}}),o("q-card-actions",{staticClass:"card-btns justify-evenly"},[o("q-btn-dropdown",{staticClass:"glossy q-ma-sm",attrs:{color:"green",icon:"edit",label:"Edit List"}},[o("div",{staticClass:"row no-wrap q-pa-md"},[o("q-input",{attrs:{label:"new title *",autofocus:""},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"list.title"}}),o("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:""}}),o("div",{staticClass:"column items-center"},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"secondary",label:"Send edit",push:"",size:"md"},on:{click:function(o){return t.editTodoList(e.title,e._id)}}})],1)],1)]),o("q-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-ma-sm",attrs:{clickable:"",color:"red","text-color":"white",icon:"delete"},on:{click:function(o){return t.deleteTodoList(e._id)}}})],1)],1)}))],2)],1)},n=[],l=o("c973"),r=o.n(l),c=o("ded3"),d=o.n(c),u=o("2f62");o("e6cf");class p{static fetchList(t){return r()((function*(){return yield fetch("http://localhost:8081/api/todolist",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then(t=>t.json()).then(t=>t)}))()}static editTodoList(t,e,o){return r()((function*(){return console.log("making full edit request for id "+e),yield fetch("http://localhost:8081/api/todolist/"+e,{method:"PATCH",headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"},body:JSON.stringify({title:t})})}))()}static addTodoList(t,e){return r()((function*(){return console.log("add todolist with title "+t),yield fetch("http://localhost:8081/api/todolist/",{method:"POST",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"},body:JSON.stringify({title:t})})}))()}static deleteTodoList(t,e){return r()((function*(){return yield fetch("http://localhost:8081/api/todolist/"+t,{method:"DELETE",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})}))()}}var h=p,f=o("6b34"),m={name:"TodoListComp",data(){return{todoListTitle:"",token:"",creator:"",allLists:[],nolist:!1}},components:{LogoutComponent:f["a"]},computed:d()({},Object(u["b"])(["auth"])),mounted(){localStorage.getItem("token")?this.token=localStorage.getItem("token"):this.$router.push({path:"/"}),this.fetchList()},methods:{fetchList(){var t=this;return r()((function*(){const e=yield h.fetchList(t.token);t.allLists=e.todoLists,t.allLists<=0?t.nolist=!0:t.nolist=!1}))()},addTodoList(t){var e=this;return r()((function*(){yield h.addTodoList(t,e.token),e.fetchList()}))()},editTodoList(t,e){var o=this;return r()((function*(){yield h.editTodoList(t,e,o.token),o.fetchList()}))()},deleteTodoList(t){var e=this;return r()((function*(){yield h.deleteTodoList(t,e.token),e.fetchList()}))()}}},b=m,L=(o("5d2d"),o("2877")),v=o("0378"),g=o("27f9"),C=o("9c40"),T=o("54e1"),y=o("f09f"),w=o("a370"),q=o("eb85"),k=o("4b7e"),_=o("f20b"),x=o("cb32"),j=o("7f67"),Q=o("714f"),S=o("eebe"),O=o.n(S),A=Object(L["a"])(b,a,n,!1,null,"e0b40d8a",null),B=A.exports;O()(A,"components",{QForm:v["a"],QInput:g["a"],QBtn:C["a"],QBanner:T["a"],QCard:y["a"],QCardSection:w["a"],QSeparator:q["a"],QCardActions:k["a"],QBtnDropdown:_["a"],QAvatar:x["a"]}),O()(A,"directives",{ClosePopup:j["a"],Ripple:Q["a"]});var E={name:"TodoList",data(){return{}},components:{TodoListComp:B}},I=E,$=Object(L["a"])(I,i,s,!1,null,null,null);e["default"]=$.exports}}]);